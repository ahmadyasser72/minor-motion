---
import DaftarTugas from "$lib/layouts/daftar-tugas.astro";
import type { ListTugas } from "$lib/types";

import { getCollection } from "astro:content";

const allTugas: ListTugas = (await getCollection("tugas"))
  .map(({ slug, data }) => ({ ...data, id: slug }))
  .map((data) => ({
    ...data,
    judul: `${data["mata-kuliah"].id} | ${data.judul}`,
  }))
  .sort((a, b) => a["batas-waktu"].valueOf() - b["batas-waktu"].valueOf());
---

<DaftarTugas
  {allTugas}
  heading1="Daftar Tugas"
  heading2="Semua"
  title="Daftar Tugas"
  breadcrumbs={[{ label: "tugas" }]}
/>
